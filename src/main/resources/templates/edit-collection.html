<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Edit Collection</title>

    <link rel="stylesheet" th:href="@{/css/base.css}"/>
    <link rel="stylesheet" th:href="@{/css/forms.css}"/>
    <link rel="stylesheet" th:href="@{/css/cards.css}"/>
    <link rel="stylesheet" th:href="@{/css/nav.css}"/>
    <link rel="stylesheet" th:href="@{/css/footer.css}"/>
</head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<main class="page-container">

    <header class="page-header" style="max-width:1050px;margin:1rem auto 1.25rem;display:flex;align-items:center;justify-content:space-between;gap:1rem;">
        <h1 style="margin:0;font-weight:800;color:#2C2F6B;">Edit Collection</h1>
        <div class="page-header-actions" style="display:flex;gap:.5rem;">
            <a th:href="@{'/collections/' + ${collection.id}}" class="btn">Cancel</a>
        </div>
    </header>

    <section class="form-card" style="max-width:1050px;margin:0 auto 3rem;">
        <form th:action="@{'/collections/' + ${collection.id} + '/edit'}" method="post">

            <div class="form-field">
                <label for="collectionTitle">Title</label>
                <input id="collectionTitle"
                       name="collectionTitle"
                       type="text"
                       th:value="${collection.collectionTitle}"
                       required />
            </div>

            <div class="form-field">
                <label for="description">Description</label>
                <textarea id="description" name="description" rows="5"
                          th:text="${collection.description}"></textarea>
            </div>

            <div class="form-field">
                <label for="visibility">Visibility</label>
                <select id="visibility" name="visibility">
                    <option value="PUBLIC"   th:selected="${collection.visibility == 'PUBLIC'}">Public</option>
                    <option value="FRIENDS"  th:selected="${collection.visibility == 'FRIENDS'}">Friends</option>
                    <option value="PRIVATE"  th:selected="${collection.visibility == 'PRIVATE'}">Private</option>
                </select>
            </div>

            <div class="form-actions" style="display:flex;gap:.5rem;justify-content:flex-start;margin-top:1rem;">
                <button type="submit" class="btn btn-primary">Save Changes</button>
                <a th:href="@{'/collections/' + ${collection.id}}" class="btn">Cancel</a>
            </div>
        </form>
    </section>

</main>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
